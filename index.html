<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TurantHub – Find Nearby Services</title>
  <link rel="stylesheet" href="styles/main.css"/>
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
</head>
<body>
  <!-- ================= NAVBAR ================= -->
  <header class="nav">
    <div class="nav-left">
      <a class="brand" href="index.html">TurantHub</a>
    </div>
    <nav class="nav-links">
      <a href="index.html">Home</a>
      <a href="services.html">Services</a>
      <a href="subscription.html">Subscription</a>
      <a href="bookings.html">Bookings</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <!-- ================= HERO ================= -->
  <section class="hero">
    <h1>Find trusted services near you</h1>
    <p>Electricians, plumbers, mechanics, local vendors — all in one app.</p>
    <div class="hero-search">
      <input id="searchInput" type="text" placeholder="Search e.g. electrician, plumber, bakery"/>
      <button id="searchBtn">Search</button>
    </div>
    <div class="hero-tags" id="quickTags"></div>
  </section>

  <!-- ================= SERVICE CARDS ================= -->
  <main class="container">
    <h2>Nearby services</h2>
    <div id="cards" class="cards-grid"></div>
  </main>
  
  <!-- ================= INTERACTIVE MAP ================= -->
  <section class="container map-section">
    <h2>Find Shops on Map</h2>
    <div id="map"></div>
  </section>

  <!-- ================= OUR SERVICES ================= -->
  <section id="services">
    <h2>Our Services</h2>
    <div class="services-container">
      <div class="service-card"><div class="service-icon">🍔</div><h3>Food & Drinks</h3></div>
      <div class="service-card"><div class="service-icon">⚡</div><h3>Electrician</h3></div>
      <div class="service-card"><div class="service-icon">🔧</div><h3>Plumber</h3></div>
      <div class="service-card"><div class="service-icon">🧹</div><h3>Cleaner</h3></div>
      <div class="service-card"><div class="service-icon">🛒</div><h3>General Store</h3></div>
      <div class="service-card"><div class="service-icon">✏️</div><h3>Stationery Shop</h3></div>
      <div class="service-card"><div class="service-icon">💊</div><h3>Medical</h3></div>
      <div class="service-card"><div class="service-icon">🍞</div><h3>Bakery</h3></div>
      <div class="service-card"><div class="service-icon">🛠️</div><h3>Mechanic</h3></div>
      <div class="service-card"><div class="service-icon">💇</div><h3>Salon & Beauty</h3></div>
      <div class="service-card"><div class="service-icon">🚗</div><h3>Vehicle Services</h3></div>
      <div class="service-card"><div class="service-icon">📦</div><h3>Courier & Parcel</h3></div>
      <div class="service-card"><div class="service-icon">🎉</div><h3>Event Services</h3></div>
    </div>
  </section>

  <!-- (your categories, popular products, product sections remain same, skipped for brevity) -->

  <!-- ================= FOOTER ================= -->
  <footer class="footer">
    <div>© 2025 TurantHub · Neighborhood-powered delivery & on-demand services</div>
  </footer>

  <!-- Scripts -->
  <script src="scripts/data.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cards = document.getElementById('cards');
      const searchInput = document.getElementById('searchInput');
      const searchBtn = document.getElementById('searchBtn');
      const quickTags = document.getElementById('quickTags');

      const tags = ['Electrician','Plumber','Mechanic','Grocery','Pharmacy','Bakery'];
      tags.forEach(t=>{
        const b = document.createElement('button');
        b.className='chip';
        b.textContent=t;
        b.onclick=()=>{ searchInput.value=t; renderList(t); };
        quickTags.appendChild(b);
      });

      function renderList(query=''){
        const q = query.toLowerCase().trim();
        cards.innerHTML='';
        const list = window.QS_DATA.vendors
          .filter(v => !q || v.category.toLowerCase().includes(q) || v.name.toLowerCase().includes(q) || v.tags.join(' ').toLowerCase().includes(q))
          .slice(0, 12);
        if(list.length===0){ cards.innerHTML = '<div class="empty">No results. Try another keyword.</div>'; return; }
        list.forEach(v=>{
          const card = document.createElement('a');
          card.className='card';
          card.href = `vendor.html?id=${encodeURIComponent(v.id)}`;
          card.innerHTML = `
            <div class="card-img" style="background-image: linear-gradient(0deg, rgba(0,0,0,.3), rgba(0,0,0,.1)), url('${v.image||''}');"></div>
            <div class="card-body">
              <div class="card-title">${v.name}</div>
              <div class="muted">${v.category} · ${v.distance_km} km</div>
              <div class="rating">★ ${v.rating.toFixed(1)}</div>
            </div>
          `;
          cards.appendChild(card);
        });
      }
      renderList('');

      searchBtn.addEventListener('click', ()=> renderList(searchInput.value));
      searchInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ renderList(searchInput.value); }});

      // ================= MAP CODE =================
      const map = L.map('map').setView([19.0760, 72.8777], 12); // Mumbai default
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
      }).addTo(map);

      // Add vendor markers
      window.QS_DATA.vendors.forEach(vendor => {
        if(vendor.lat && vendor.lng){
          L.marker([vendor.lat, vendor.lng]).addTo(map)
            .bindPopup(`<b>${vendor.name}</b><br>${vendor.category}<br>★ ${vendor.rating.toFixed(1)}`);
        }
      });
    });
  </script>
  <script src="scripts/app.js"></script>
</body>
</html>
